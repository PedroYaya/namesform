{"remainingRequest":"/Users/pedroyaya/Desktop/namesformcss/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pedroyaya/Desktop/namesformcss/src/components/BaseForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/pedroyaya/Desktop/namesformcss/src/components/BaseForm.vue","mtime":1641503284770},{"path":"/Users/pedroyaya/Desktop/namesformcss/node_modules/cache-loader/dist/cjs.js","mtime":1617014205581},{"path":"/Users/pedroyaya/Desktop/namesformcss/node_modules/babel-loader/lib/index.js","mtime":1641478443943},{"path":"/Users/pedroyaya/Desktop/namesformcss/node_modules/cache-loader/dist/cjs.js","mtime":1617014205581},{"path":"/Users/pedroyaya/Desktop/namesformcss/node_modules/vue-loader/lib/index.js","mtime":1641478448152}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBBY3Rpb25zIGZyb20gIi4vQWN0aW9ucy52dWUiCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnSWRpb21hdGljJywKCiAgICBtb3VudGVkKCkgewogICAgICB0aGlzLmluaXROYW1lcygpOwogICAgfSwKCiAgICBjb21wb25lbnRzOiB7CiAgICAgIEFjdGlvbnMKICAgIH0sCgogICAgZGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lczogW10sCiAgICAgICAgc2VhcmNoOiAiIiwKICAgICAgICBzZWxlY3RlZDogIm5vbmUiLAogICAgICAgIGZpcnN0TmFtZTogIiIsCiAgICAgICAgbGFzdE5hbWU6ICIiLAogICAgICAgIHVybDogImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9uYW1lcyIKICAgICAgfQogICAgfSwKCiAgICBjb21wdXRlZDogewogICAgICBmaWx0ZXJlZE5hbWVzOiBmdW5jdGlvbigpIHsKICAgICAgICBpZiAodGhpcy5zZWFyY2gpIHsKICAgICAgICAgIHJldHVybiB0aGlzLm5hbWVzLmZpbHRlciggbmFtZSA9PiB7CiAgICAgICAgICBjb25zdCBhID0gbmFtZS5sYXN0X25hbWUudG9VcHBlckNhc2UoKTsKICAgICAgICAgIGNvbnN0IGIgPSB0aGlzLnNlYXJjaC50b1VwcGVyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAKICAgICAgICAgIHJldHVybiBhLm1hdGNoKGIpOwogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIAogICAgICAgIHJldHVybiB0aGlzLm5hbWVzOwogICAgICAgIH0sCgogICAgICBub25lSXNTZWxlY3RlZCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZCA9PT0gIm5vbmUiIHx8ICF0aGlzLm5hbWVzLmxlbmd0aDsKICAgICAgfSwKICAgICAgCiAgICAgIG5hbWVJc0NvbXBsZXRlKCkgewogICAgICAgIHJldHVybiB0aGlzLmZpcnN0TmFtZSAmJiB0aGlzLmxhc3ROYW1lOwogICAgICB9LAoKICAgICAgZGlzYWJsZWRDcmVhdGUoKSB7CiAgICAgICAgcmV0dXJuICF0aGlzLm5vbmVJc1NlbGVjdGVkIHx8ICF0aGlzLm5hbWVJc0NvbXBsZXRlOwogICAgICB9LAoKICAgICAgZGlzYWJsZWRVcGRhdGUoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubm9uZUlzU2VsZWN0ZWQgfHwgIXRoaXMubmFtZUlzQ29tcGxldGU7CiAgICAgIH0sCgogICAgICBzZWxlY3RlZEluZGV4KCkgewogICAgICAgIHJldHVybiB0aGlzLm5hbWVzLmluZGV4T2YodGhpcy5zZWxlY3RlZCk7CiAgICAgIH0sCgogICAgICB1c2VyVXJsKCkgewogICAgICAgIHJldHVybiBgJHt0aGlzLnVybH0vJHt0aGlzLm5hbWVzW3RoaXMuc2VsZWN0ZWRJbmRleF0uaWR9YDsKICAgICAgfQogICAgfSwKCiAgICBtZXRob2RzOiB7CiAgICAgIGluaXROYW1lcygpIHsgICAgICAgICAgICAgICAKICAgICAgICBheGlvcy5nZXQodGhpcy51cmwpLnRoZW4oIHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMubmFtZXMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pCiAgICAgIH0sCgogICAgICBjcmVhdGUoKSB7CiAgICAgICAgY29uc3QgaWQgPSBNYXRoLnJhbmRvbSgpOwoKICAgICAgICBheGlvcy5wb3N0KHRoaXMudXJsLCB7CiAgICAgICAgICBpZDogaWQsCiAgICAgICAgICBmaXJzdF9uYW1lOiB0aGlzLmZpcnN0TmFtZSwKICAgICAgICAgIGxhc3RfbmFtZTogdGhpcy5sYXN0TmFtZQogICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5pbml0TmFtZXMoKTsKICAgICAgICAgIHRoaXMucmVzZXRGaWVsZHMoKTsKICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0sCgogICAgICB1cGRhdGUoKSB7CiAgICAgICAgYXhpb3MucHV0KHRoaXMudXNlclVybCwgewogICAgICAgICAgZmlyc3RfbmFtZTogdGhpcy5maXJzdE5hbWUsCiAgICAgICAgICBsYXN0X25hbWU6IHRoaXMubGFzdE5hbWUKICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuaW5pdE5hbWVzKCk7CiAgICAgICAgICB0aGlzLnJlc2V0RmllbGRzKCk7CiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9LAoKICAgICAgcmVtb3ZlKCkgewogICAgICAgIGF4aW9zLmRlbGV0ZSh0aGlzLnVzZXJVcmwpLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5pbml0TmFtZXMoKTsKICAgICAgICAgIHRoaXMucmVzZXRGaWVsZHMoKTsKICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0sCgogICAgICByZXNldEZpZWxkcygpIHsKICAgICAgICB0aGlzLmZpcnN0TmFtZSA9ICIiOwogICAgICAgIHRoaXMubGFzdE5hbWUgPSAiIjsKICAgICAgfQogICAgfQogIH0K"},{"version":3,"sources":["BaseForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"BaseForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"base-form shadow\">\n      <div class=\"row one\">\n        <span>Filter prefix:</span>\n        <input type=\"text\" v-model=\"search\">\n      </div>\n      <div class=\"row two\">\n          <select \n            v-model=\"selected\" \n            onmousedown=\"if(this.options.length>21){this.size=21}\"  \n            onchange='this.size=0;' \n            onblur=\"this.size=0;\"\n          >\n            <option value=\"none\"></option>\n            <option \n              v-for=\"(name, index) in filteredNames\" \n              :key=\"index\"\n              :value=\"name\"\n            >\n              {{ name.first_name }} {{ name.last_name }}\n            </option>\n          </select>\n          <div class=\"name-fields\">\n              <div class=\"input-container\">\n                <span>Name:</span>\n                <input v-model=\"firstName\" type=\"text\">\n              </div>\n              <div class=\"input-container\">\n                <span>Surname:</span>\n                <input v-model=\"lastName\" type=\"text\">\n              </div>\n          </div>\n      </div>\n      <Actions \n        :noneIsSelected=\"noneIsSelected\"\n        :disabledCreate=\"disabledCreate\"\n        :disabledUpdate=\"disabledUpdate\"\n        @create=\"create\"\n        @update=\"update\"\n        @remove=\"remove\"\n      />\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\";\n  import Actions from \"./Actions.vue\"\n\n  export default {\n      name: 'Idiomatic',\n\n      mounted() {\n        this.initNames();\n      },\n\n      components: {\n        Actions\n      },\n\n      data() {\n        return {\n          names: [],\n          search: \"\",\n          selected: \"none\",\n          firstName: \"\",\n          lastName: \"\",\n          url: \"http://localhost:3000/names\"\n        }\n      },\n\n      computed: {\n        filteredNames: function() {\n          if (this.search) {\n            return this.names.filter( name => {\n            const a = name.last_name.toUpperCase();\n            const b = this.search.toUpperCase();\n                    \n            return a.match(b);\n            })\n          }\n        \n          return this.names;\n          },\n\n        noneIsSelected() {\n          return this.selected === \"none\" || !this.names.length;\n        },\n        \n        nameIsComplete() {\n          return this.firstName && this.lastName;\n        },\n\n        disabledCreate() {\n          return !this.noneIsSelected || !this.nameIsComplete;\n        },\n\n        disabledUpdate() {\n          return this.noneIsSelected || !this.nameIsComplete;\n        },\n\n        selectedIndex() {\n          return this.names.indexOf(this.selected);\n        },\n\n        userUrl() {\n          return `${this.url}/${this.names[this.selectedIndex].id}`;\n        }\n      },\n\n      methods: {\n        initNames() {               \n          axios.get(this.url).then( response => {\n            this.names = response.data;\n          })\n        },\n\n        create() {\n          const id = Math.random();\n\n          axios.post(this.url, {\n            id: id,\n            first_name: this.firstName,\n            last_name: this.lastName\n          }).then(() => {\n            this.initNames();\n            this.resetFields();\n          }).catch(error => {\n            console.log(error);\n          });\n        },\n\n        update() {\n          axios.put(this.userUrl, {\n            first_name: this.firstName,\n            last_name: this.lastName\n          }).then(() => {\n            this.initNames();\n            this.resetFields();\n          }).catch(error => {\n            console.log(error);\n          });\n        },\n\n        remove() {\n          axios.delete(this.userUrl).then(() => {\n            this.initNames();\n            this.resetFields();\n          }).catch(error => {\n            console.log(error);\n          });\n        },\n\n        resetFields() {\n          this.firstName = \"\";\n          this.lastName = \"\";\n        }\n      }\n    }\n</script>\n\n<style lang=\"scss\">\n\n  .base-form {\n    max-width: 450px;\n    display: block;\n    margin: 20px auto;\n    background: white;\n    border-radius: 7px;\n    padding: 10px;\n\n\n    span {\n      color: black;\n      font-size: 16px;\n      font-weight: 500;\n      padding: 10px;\n    }\n\n    .row {\n      display: flex;\n      justify-content: space-between;\n      padding: 10px;\n\n\n      input, select {\n        border: 1px solid #c7c7c7;\n        border-radius: 4px;\n        padding: 10px;\n      }\n\n      select {\n        max-height: 200px;\n        width: -webkit-fill-available;\n        height: fit-content;\n      }\n\n      &.one {\n\n        span {\n          white-space: nowrap;\n          padding-left: 0;\n        }\n\n        input {\n          width: -webkit-fill-available;\n        }\n      }\n\n\n      &.two {\n\n        .name-fields {\n          display: block;\n\n          .input-container {\n            display: flex;\n            justify-content: flex-end;\n            margin-bottom: 10px;\n          }\n        }\n      }\n    }\n  }\n\n  .shadow {\n    -webkit-box-shadow: 1px 0px 4px 1px rgba(0,0,0,0.21); \n    box-shadow: 1px 0px 4px 1px rgba(0,0,0,0.21);\n  }\n  \n</style>\n"]}]}